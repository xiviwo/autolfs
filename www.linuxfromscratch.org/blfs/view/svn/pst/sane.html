<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      SANE-1.0.23
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-2013-03-31">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 2013-03-31
      </h4>
      <h3>
        Chapter&nbsp;43.&nbsp;Scanning
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="scanning.html" title="Scanning">Prev</a>
          <p>
            Scanning
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xsane.html" title="XSane-0.998">Next</a>
          <p>
            XSane-0.998
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="scanning.html" title=
          "Chapter&nbsp;43.&nbsp;Scanning">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 2013-03-31">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="sane" name="sane"></a>SANE-1.0.23
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to SANE
        </h2>
        <p>
          <span class="application">SANE</span> is short for Scanner Access
          Now Easy. Scanner access; however, is far from easy, since every
          vendor has their own protocols. The only known protocol that should
          bring some unity into this chaos is the TWAIN interface, but this
          is too imprecise to allow a stable scanning framework. Therefore,
          <span class="application">SANE</span> comes with its own protocol,
          and the vendor drivers can't be used.
        </p>
        <p>
          <span class="application">SANE</span> is split into back ends and
          front ends. The back ends are drivers for the supported scanners
          and cameras. The front ends are user interfaces to access the
          backends.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.2
          platform.
        </p>
        <h3>
          Back Ends Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "ftp://ftp2.sane-project.org/pub/sane/sane-backends-1.0.23.tar.gz">
                ftp://ftp2.sane-project.org/pub/sane/sane-backends-1.0.23.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 979c9dbb23920d04e322be23122c7de7
              </p>
            </li>
            <li>
              <p>
                Download size: 5.1 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 120 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 1.2 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Front Ends Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://alioth.debian.org/download.php/1140/sane-frontends-1.0.14.tar.gz">
                http://alioth.debian.org/download.php/1140/sane-frontends-1.0.14.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "ftp://ftp2.sane-project.org/pub/sane/sane-frontends-1.0.14/sane-frontends-1.0.14.tar.gz">
                ftp://ftp2.sane-project.org/pub/sane/sane-frontends-1.0.14/sane-frontends-1.0.14.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Downlaod MD5 sum: c63bf7b0bb5f530cf3c08715db721cd3
              </p>
            </li>
            <li>
              <p>
                Download size: 231 KB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 3.0 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: less than 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          SANE Dependencies
        </h3>
        <h4>
          Optional (Back Ends)
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/avahi.html" title=
          "Avahi-0.6.31">Avahi-0.6.31</a>, <a class="xref" href="cups.html"
          title="Cups-1.6.2">Cups-1.6.2</a>, <a class="xref" href=
          "../general/libjpeg.html" title=
          "libjpeg-turbo-1.2.1">libjpeg-turbo-1.2.1</a>, <a class="xref"
          href="../general/libtiff.html" title=
          "LibTIFF-4.0.3">LibTIFF-4.0.3</a>, <a class="xref" href=
          "../general/libusb.html" title="libusb-1.0.9">libusb-1.0.9</a>,
          <a class="ulink" href="http://www.net-snmp.org/">Net-SNMP</a>,
          <a class="ulink" href=
          "http://cyberelk.net/tim/libieee1284/">libieee1284</a>, <a class=
          "ulink" href="http://www.gphoto.org/">libgphoto2</a>, <a class=
          "ulink" href=
          "http://linuxtv.org/downloads/v4l-utils/">Video4Linux</a>, and
          <a class="xref" href="texlive.html" title=
          "texlive-20120701">texlive-20120701</a>
        </p>
        <h4>
          Optional (Front Ends)
        </h4>
        <p class="optional">
          <a class="xref" href="../x/installing.html" title=
          "Chapter&nbsp;24.&nbsp;X Window System Environment">X Window
          System</a>, <a class="xref" href="../x/gtk2.html" title=
          "GTK+-2.24.17">GTK+-2.24.17</a>, and <a class="xref" href=
          "../xsoft/gimp.html" title="Gimp-2.8.4">Gimp-2.8.4</a>
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/sane">http://wiki.linuxfromscratch.org/blfs/wiki/sane</a>
        </p>
      </div>
      <div class="kernel" lang="en" xml:lang="en">
        <h2 class="sect2">
          <a id="sane-kernel" name="sane-kernel"></a>Kernel Configuration
        </h2>
        <p>
          To access your scanner, you will probably need the related kernel
          drivers and/or additional support packages. A SCSI scanner will
          need SCSI drivers, a parallel port scanner needs parallel port
          support (you should use enhanced EPP modes) and perhaps <a class=
          "ulink" href=
          "http://cyberelk.net/tim/libieee1284/">libieee1284</a>, and a USB
          scanner will need the <a class="xref" href="../general/libusb.html"
          title="libusb-1.0.9">libusb-1.0.9</a> package. Ensure you have the
          necessary drivers properly configured to access the devices.
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of SANE
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Installation of SANE Back Ends
          </h3>
          <div class="admon note">
            <img alt="[Note]" src="../images/note.png" />
            <h3>
              Note
            </h3>
            <p>
              You may safely disregard any messages printed on the screen
              when you unpack the tarball.
            </p>
          </div>
          <p>
            The <span class="application">SANE</span> daemon should run with
            its own group. Create this group by issuing the following
            commands as the <code class="systemitem">root</code> user:
          </p>
          <pre class="userinput">
<kbd class="command">groupadd -g 70 scanner</kbd>
</pre>
          <div class="admon note">
            <img alt="[Note]" src="../images/note.png" />
            <h3>
              Note
            </h3>
            <p>
              The user building <span class=
              "application">SANE</span>-backends should be a member of the
              <code class="systemitem">scanner</code> group before
              proceeding. After you have added the user building the package
              to the <code class="systemitem">scanner</code> group, issue the
              following command to create a new shell:
            </p>
            <pre class="userinput">
<kbd class="command">su $(whoami)</kbd>
</pre>
            <p>
              Check the output of the <strong class=
              "userinput"><code>groups</code></strong> command and ensure the
              user is a member of the <code class="systemitem">scanner</code>
              group.
            </p>
          </div>
          <p>
            Install <span class="application">SANE</span>-backends by running
            the following commands:
          </p>
          <pre class="userinput">
<kbd class=
"command">./configure --prefix=/usr                                    \
            --sysconfdir=/etc                                \
            --localstatedir=/var                             \
            --with-docdir=/usr/share/doc/sane-backend-1.0.23 \
            --with-group=scanner                             &amp;&amp;
make                                                         &amp;&amp;
exit</kbd>
</pre>
          <p>
            To test the results, issue: <span class="command"><strong>make
            check</strong></span>.
          </p>
          <p>
            Now, as the <code class="systemitem">root</code> user:
          </p>
          <pre class="root">
<kbd class=
"command">make install                                         &amp;&amp;
install -m 644 -v tools/udev/libsane.rules           \
                  /etc/udev/rules.d/65-scanner.rules &amp;&amp;
chgrp -v scanner  /var/lock/sane</kbd>
</pre>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Installation of SANE Front Ends
          </h3>
          <p>
            The <span class="application">SANE</span>-frontends package
            includes the graphical frontends <span class=
            "command"><strong>xscanimage</strong></span> and <span class=
            "command"><strong>xcam</strong></span>, and a command-line
            frontend <span class="command"><strong>scanadf</strong></span>.
            You don't need this package if you intend to use one of the more
            advanced graphical frontends like <a class="xref" href=
            "xsane.html" title="XSane-0.998">XSane-0.998</a>. For a list of
            frontend packages, see <a class="ulink" href=
            "http://www.sane-project.org/sane-frontends.html">http://www.sane-project.org/sane-frontends.html</a>.
          </p>
          <p>
            To install <span class="application">SANE</span>-frontends, use
            the following commands:
          </p>
          <pre class="userinput">
<kbd class=
"command">sed -i -e "/SANE_CAP_ALWAYS_SETTABLE/d" src/gtkglue.c &amp;&amp;
./configure --prefix=/usr &amp;&amp;
make</kbd>
</pre>
          <p>
            This package does not come with a test suite.
          </p>
          <p>
            Now, as the <code class="systemitem">root</code> user:
          </p>
          <pre class="root">
<kbd class="command">make install &amp;&amp;
install -v -m644 doc/sane.png xscanimage-icon-48x48-2.png \
    /usr/share/sane</kbd>
</pre>
          <p>
            If <span class="application">GIMP</span> was linked into the
            build and you wish <span class="application">GIMP</span> to use
            <span class="command"><strong>xscanimage</strong></span> as a
            scanning plugin, issue the following command as the <code class=
            "systemitem">root</code> user:
          </p>
          <pre class="root">
<kbd class=
"command">ln -v -s ../../../../bin/xscanimage /usr/lib/gimp/2.0/plug-ins</kbd>
</pre>
        </div>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>--sysconfdir=/etc</code></em>: This
          switch installs the configuration files in <code class=
          "filename">/etc/sane.d</code> instead of <code class=
          "filename">/usr/etc/sane.d</code>.
        </p>
        <p>
          <em class="parameter"><code>--with-group=scanner</code></em>: This
          parameter causes the directory created for the locking files to be
          group owned by the <code class="systemitem">scanner</code> group
          instead of the default <code class="systemitem">uucp</code> group.
        </p>
        <p>
          <span class="command"><strong>exit</strong></span>: This command is
          used to exit the shell created by the <span class=
          "command"><strong>su</strong></span> command.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring SANE
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            <a id="sane-config" name="sane-config"></a>Config Files
          </h3>
          <p>
            <code class="filename">/etc/sane.d/*.conf</code>
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Configuration Information
          </h3>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2808978" name="id2808978"></a>Backend
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              The backend configuration files are located in <code class=
              "filename">/etc/sane.d</code>. Information for configuring the
              various backends can be found by using the man(5) page for the
              desired backend. Run <span class="command"><strong>man
              sane-<em class=
              "replaceable"><code>&lt;backend&gt;</code></em></strong></span>,
              substituting the desired backend.
            </p>
            <p>
              Add any desired users to the <code class=
              "systemitem">scanner</code> group.
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id3375058" name="id3375058"></a>General
                    Information
                  </h5>
                </div>
              </div>
            </div>
            <p>
              For general information about configuring and using
              <span class="application">SANE</span>, see <span class=
              "command"><strong>man sane</strong></span>. Linux-2.6.x brings
              some special issues into the picture. See <a class="ulink"
              href="http://www.sane-project.org/README.linux">http://www.sane-project.org/README.linux</a>
              for information about using <span class=
              "application">SANE</span> with the Linux-2.6.x kernel. For
              information about USB scanning devices, run <span class=
              "command"><strong>man sane-usb</strong></span>. For information
              about SCSI devices, run <span class="command"><strong>man
              sane-scsi</strong></span>.
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id3300943" name="id3300943"></a>Configuration and
                    setup of the 'saned' daemon
                  </h5>
                </div>
              </div>
            </div>
            <p>
              The <span class="command"><strong>saned</strong></span> daemon
              is not meant to be used for untrusted clients. You should
              provide <a class="xref" href="../postlfs/firewall.html" title=
              "Setting Up a Network Firewall">Firewalling</a> protection to
              ensure only trusted clients access the daemon. Due to the
              complex security requirements to ensure only trusted clients
              access the daemon, BLFS does not provide instructions to
              configure the <span class=
              "command"><strong>saned</strong></span> daemon. If you desire
              to make the daemon available, ensure you provide adequate
              security, configure your <code class=
              "filename">[x]inetd.conf</code> file and send a <strong class=
              "userinput"><code>SIGHUP</code></strong> to the [x]inetd
              daemon. Some good information for setting up and securing the
              <span class="command"><strong>saned</strong></span> daemon can
              be found at <a class="ulink" href=
              "http://penguin-breeder.org/sane/saned/">http://penguin-breeder.org/sane/saned/</a>.
            </p>
          </div>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <h4>
          Back Ends:
        </h4>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">gamma4scanimage, sane-config, saned,
              sane-find-scanner, and scanimage</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libsane.so and numerous scanner backend
              modules</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/etc/sane.d, /usr/include/sane,
              /usr/lib/sane, /usr/share/sane, and
              /usr/share/doc/sane-1.0.23</span>
            </div>
          </div>
        </div>
        <h4>
          Front Ends:
        </h4>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">scanadf, xcam, and xscanimage</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Library:</strong>
              <span class="segbody"><span class="application">GIMP</span>
              plugin embedded in <span class=
              "command"><strong>xscanimage</strong></span></span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">None</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="gamma4scanimage" name=
                    "gamma4scanimage"></a><span class="term"><span class=
                    "command"><strong>gamma4scanimage</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    creates a gamma table in the format expected by
                    <span class="command"><strong>scanimage</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sane-config-prog" name=
                    "sane-config-prog"></a><span class="term"><span class=
                    "command"><strong>sane-config</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used to determine the compiler and linker flags
                    that should be used to compile and link <span class=
                    "application">SANE</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="saned" name="saned"></a><span class=
                    "term"><span class=
                    "command"><strong>saned</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the <span class="application">SANE</span> daemon that
                    allows remote clients to access image acquisition devices
                    available on the local host.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="sane-find-scanner" name=
                    "sane-find-scanner"></a><span class="term"><span class=
                    "command"><strong>sane-find-scanner</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a command-line tool to find SCSI and USB scanners and
                    determine their device files. Its primary purpose is to
                    make sure that scanners can be detected by <span class=
                    "application">SANE</span> backends.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="scanadf" name="scanadf"></a><span class=
                    "term"><span class=
                    "command"><strong>scanadf</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a command-line interface to control image acquisition
                    devices which are equipped with an automatic document
                    feeder (ADF).
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="scanimage" name="scanimage"></a><span class=
                    "term"><span class=
                    "command"><strong>scanimage</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a command line interface for scanning from image
                    acquisition devices such as flatbed scanners or cameras.
                    It is also used to list the available backend devices.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xcam" name="xcam"></a><span class=
                    "term"><span class=
                    "command"><strong>xcam</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a graphical camera front end for <span class=
                    "application">SANE</span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xscanimage" name="xscanimage"></a><span class=
                    "term"><span class=
                    "command"><strong>xscanimage</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a graphical user interface for scanning.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libsane" name="libsane"></a><span class=
                    "term"><code class="filename">libsane.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the application programming interface that is used to
                    communicate between frontends and backends.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libsane-module" name=
                    "libsane-module"></a><span class="term"><code class=
                    "filename">libsane-*.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    modules are backend scanning library plugins used to
                    interface with scanning devices. See <a class="ulink"
                    href=
                    "http://www.sane-project.org/sane-supported-devices.html">
                    http://www.sane-project.org/sane-supported-devices.html</a>
                    for a list of supported backends.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2013-02-07 21:05:35 +0000
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="scanning.html" title="Scanning">Prev</a>
          <p>
            Scanning
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xsane.html" title="XSane-0.998">Next</a>
          <p>
            XSane-0.998
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="scanning.html" title=
          "Chapter&nbsp;43.&nbsp;Scanning">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 2013-03-31">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
