<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      libatomic_ops-7.2d
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-2013-09-12">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 2013-09-12
      </h4>
      <h3>
        Chapter&nbsp;9.&nbsp;General Libraries
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="libatasmart.html" title=
          "libatasmart-0.19">Prev</a>
          <p>
            libatasmart-0.19
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="libcroco.html" title=
          "libcroco-0.6.8">Next</a>
          <p>
            libcroco-0.6.8
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="genlib.html" title=
          "Chapter&nbsp;9.&nbsp;General Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 2013-09-12">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="libatomic_ops" name="libatomic_ops"></a>libatomic_ops-7.2d
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to libatomic_ops
        </h2>
        <p>
          <span class="application">libatomic_ops</span> provides
          implementations for atomic memory update operations on a number of
          architectures. This allows direct use of these in reasonably
          portable code. Unlike earlier similar packages, this one explicitly
          considers memory barrier semantics, and allows the construction of
          code that involves minimum overhead across a variety of
          architectures.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.4
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://www.hpl.hp.com/research/linux/atomic_ops/download/libatomic_ops-7.2d.tar.gz">
                http://www.hpl.hp.com/research/linux/atomic_ops/download/libatomic_ops-7.2d.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: e6997db4875909e11b514cd5c3caa3cf
              </p>
            </li>
            <li>
              <p>
                Download size: 228 KB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 5.0 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/libatomic_ops">http://wiki.linuxfromscratch.org/blfs/wiki/libatomic_ops</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of libatomic_ops
        </h2>
        <p>
          Install <span class="application">libatomic_ops</span> by running
          the following commands:
        </p>
        <pre class="userinput">
<kbd class=
"command">sed -i 's#AM_CONFIG_HEADER#AC_CONFIG_HEADERS#' configure.ac &amp;&amp;
sed -i 's#AC_PROG_RANLIB#AC_LIBTOOL_DLOPEN\nAC_PROG_LIBTOOL#' configure.ac &amp;&amp;
sed -i 's#b_L#b_LTL#;s#\.a#.la#g;s#_a_#_la_#' src/Makefile.am &amp;&amp;
sed -i 's#\.a#.so#g;s#\.\./src/#../src/.libs/#g' tests/Makefile.am &amp;&amp;
sed -i 's#pkgdata#doc#' doc/Makefile.am &amp;&amp;
autoreconf -fi &amp;&amp;
./configure --prefix=/usr \
            --docdir=/usr/share/doc/libatomic_ops-7.2d \
            --disable-static &amp;&amp;
make</kbd>
</pre>
        <p>
          To check the results, issue <span class=
          "command"><strong>LD_LIBRARY_PATH=../src/.libs make
          check</strong></span>.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>sed -i 's#AM_CONFIG_HEADER
          ...</strong></span>: This <span class=
          "command"><strong>sed</strong></span> fixes building with
          <span class="application">Automake</span> 1.13.
        </p>
        <p>
          <span class="command"><strong>sed -i 's#AC_PROG_RANLIB
          ...</strong></span>: These <span class=
          "command"><strong>sed</strong></span>s massage the autotool files
          so that a shared library is built, the tests pass, and the docs are
          installed in an appropriate directory.
        </p>
        <p>
          <span class="command"><strong>autoreconf -fi</strong></span>: This
          regenerates the <span class=
          "command"><strong>configure</strong></span> script and the
          <code class="filename">Makefile.in</code> files and installs a
          missing file.
        </p>
        <p>
          <em class="parameter"><code>--disable-static</code></em>: This
          switch prevents installation of static versions of the libraries.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">None</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libatomic_ops.so and
              libatomic_ops_gpl.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directory:</strong>
              <span class="segbody">/usr/include/libatomic_ops</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="libatomic_ops-lib" name=
                    "libatomic_ops-lib"></a><span class="term"><code class=
                    "filename">libatomic_ops.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    contains functions for atomic memory operations.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2013-08-23 10:32:24 +0000
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="libatasmart.html" title=
          "libatasmart-0.19">Prev</a>
          <p>
            libatasmart-0.19
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="libcroco.html" title=
          "libcroco-0.6.8">Next</a>
          <p>
            libcroco-0.6.8
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="genlib.html" title=
          "Chapter&nbsp;9.&nbsp;General Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 2013-09-12">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
