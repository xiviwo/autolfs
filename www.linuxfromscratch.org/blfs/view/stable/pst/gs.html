<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      ghostscript-9.10
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-7.4">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 7.4
      </h4>
      <h3>
        Chapter&nbsp;41.&nbsp;Printing
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="cups-filters.html" title=
          "cups-filters-1.0.38">Prev</a>
          <p>
            cups-filters-1.0.38
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gutenprint.html" title=
          "Gutenprint-5.2.9">Next</a>
          <p>
            Gutenprint-5.2.9
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="printing.html" title=
          "Chapter&nbsp;41.&nbsp;Printing">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.4">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="gs" name="gs"></a>ghostscript-9.10
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to Ghostscript
        </h2>
        <p>
          <span class="application">Ghostscript</span> is a versatile
          processor for PostScript data with the ability to render PostScript
          to different targets. It used to be part of the cups printing
          stack, but is no longer used for that.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.4
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://downloads.ghostscript.com/public/ghostscript-9.10.tar.bz2">
                http://downloads.ghostscript.com/public/ghostscript-9.10.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 7179bb1ed4f6f453147e6f7e1f210ce8
              </p>
            </li>
            <li>
              <p>
                Download size: 30 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 127 MB (includes installing
                libgs.so, add 5 MB if the fonts are installed)
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 2.3 SBU (includes building and
                installing libgs.so)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Additional Downloads
        </h3>
        <p>
          If you wish, you can download additional fonts.
        </p>
        <div class="itemizedlist">
          <p class="title">
            <b>Standard Fonts</b>
          </p>
          <ul class="compact">
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "http://downloads.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz">
                http://downloads.sourceforge.net/gs-fonts/ghostscript-fonts-std-8.11.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 6865682b095f8c4500c54b285ff05ef6
              </p>
            </li>
            <li>
              <p>
                Download size: 3.7 MB
              </p>
            </li>
          </ul>
        </div>
        <div class="itemizedlist">
          <p class="title">
            <b>Other Fonts</b>
          </p>
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://downloads.sourceforge.net/gs-fonts/gnu-gs-fonts-other-6.0.tar.gz">
                http://downloads.sourceforge.net/gs-fonts/gnu-gs-fonts-other-6.0.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 33457d3f37de7ef03d2eea05a9e6aa4f
              </p>
            </li>
            <li>
              <p>
                Download size: 796 KB
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Ghostscript Dependencies
        </h3>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/expat.html" title=
          "Expat-2.1.0">expat-2.1.0</a>, <a class="xref" href=
          "../general/freetype2.html" title=
          "FreeType-2.5.0.1">FreeType-2.5.0.1</a>, <a class="xref" href=
          "../general/libjpeg.html" title=
          "libjpeg-turbo-1.3.0">libjpeg-turbo-1.3.0</a>, <a class="xref"
          href="../general/libpng.html" title=
          "libpng-1.6.4">libpng-1.6.4</a>, <a class="xref" href=
          "../general/libtiff.html" title="LibTIFF-4.0.3">LibTIFF-4.0.3</a>,
          and <a class="xref" href="../general/lcms2.html" title=
          "Little CMS-2.5">Little CMS-2.5</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="../x/cairo.html" title=
          "Cairo-1.12.16">Cairo-1.12.16</a>, <a class="xref" href=
          "../general/fontconfig.html" title=
          "Fontconfig-2.10.93">Fontconfig-2.10.93</a>, <a class="xref" href=
          "../x/gtk2.html" title="GTK+-2.24.20">GTK+-2.24.20</a>, <a class=
          "xref" href="cups.html" title="Cups-1.6.3">Cups-1.6.3</a>,
          <a class="xref" href="../general/lcms.html" title=
          "Little CMS-1.19">Little CMS-1.19</a> (not used by default, nor if
          lcms2 is present or found), <a class="xref" href=
          "../general/libidn.html" title="libidn-1.28">libidn-1.28</a>,
          <a class="xref" href="../x/installing.html" title=
          "Chapter&nbsp;24.&nbsp;X Window System Environment">X Window
          System</a> and <a class="ulink" href=
          "http://packages.debian.org/unstable/source/libpaper">libpaper</a>
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/gs">http://wiki.linuxfromscratch.org/blfs/wiki/gs</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of Ghostscript
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            The <span class="application">Ghostscript</span> build system is
            not user-friendly. In order to use system copies of various
            graphics libraries, you must do it using unconventional methods.
          </p>
        </div>
        <p>
          <span class="application">GPL Ghostscript</span> includes (old)
          copies of several libraries. Some of these seem to have been
          patched to fix known vulnerabilities, but others of these copies
          are less-well maintained. To ensure that any future fixes are
          applied throughout the whole system, it is recommended that you
          first install the released versions of these libraries and then
          configure <span class="application">GPL Ghostscript</span> to link
          to them.
        </p>
        <p>
          If you have installed these dependencies on your system, remove the
          copies of <span class="application">expat</span>, <span class=
          "application">freetype</span>, <span class=
          "application">lcms2</span>, <span class=
          "application">libjpeg</span>, and <span class=
          "application">libpng</span>:
        </p>
        <pre class="userinput">
<kbd class="command">rm -rf expat freetype lcms2 jpeg libpng</kbd>
</pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            If you have a multicore computer and try to run make with
            multiple jobs (eg, make -j4) then the build may fail due to race
            conditions in the <span class="application">Ghostscript</span>
            build system. You can work around that problem by simply running
            make again (eg, <span class="command"><strong>make -j4 || make
            -j1</strong></span>).
          </p>
        </div>
        <p>
          Compile <span class="application">Ghostscript</span>:
        </p>
        <pre class="userinput">
<kbd class="command">rm -rf zlib &amp;&amp;
./configure --prefix=/usr --disable-compile-inits \
 --enable-dynamic --with-system-libtiff &amp;&amp;
make</kbd>
</pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            The shared library depends on <a class="xref" href=
            "../x/gtk2.html" title="GTK+-2.24.20">GTK+-2.24.20</a>. It is
            only used in external programs like <a class="xref" href=
            "../general/imagemagick.html" title=
            "ImageMagick-6.8.6-9">ImageMagick-6.8.6-9</a>.
          </p>
        </div>
        <p>
          To compile the shared library <code class=
          "filename">libgs.so</code>, run the following additional command as
          an unprivileged user:
        </p>
        <pre class="userinput">
<kbd class="command">make so</kbd>
</pre>
        <p>
          This package does not come with a test suite. However, you may test
          the operation of the newly built <span class=
          "command"><strong>gs</strong></span> program by issuing the
          following command (issue from an X Windows terminal):
        </p>
        <pre class="userinput">
<kbd class=
"command">bin/gs -Ilib -IResource/Init -dBATCH examples/tiger.eps</kbd>
</pre>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install</kbd>
</pre>
        <p>
          If you want the shared library too:
        </p>
        <pre class="root">
<kbd class="command">make soinstall &amp;&amp;
install -v -m644 base/*.h /usr/include/ghostscript &amp;&amp;
ln -v -s ghostscript /usr/include/ps</kbd>
</pre>
        <p>
          Now make the documentation accessible from the normal place:
        </p>
        <pre class="root">
<kbd class=
"command">ln -sfv ../ghostscript/9.10/doc /usr/share/doc/ghostscript-9.10</kbd>
</pre>
        <p>
          If you have downloaded any fonts, unpack them to <code class=
          "filename">/usr/share/ghostscript</code> and ensure the ownerships
          of the files are <code class="systemitem">root</code>: <code class=
          "systemitem">root</code>. Substitute <em class=
          "replaceable"><code>&lt;font-tarball&gt;</code></em> appropriately
          in the command below for the fonts you wish to install:
        </p>
        <pre class="root">
<kbd class="command">tar -xvf ../<em class=
"replaceable"><code>&lt;font-tarball&gt;</code></em> -C /usr/share/ghostscript --no-same-owner</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>rm -rf zlib</strong></span>:
          <span class="application">zlib</span> was installed as part of LFS.
        </p>
        <p>
          <em class="parameter"><code>--disable-compile-inits</code></em>:
          This option makes <span class="command"><strong>gs</strong></span>
          and <code class="filename">libgs.so</code> slightly smaller.
        </p>
        <p>
          <em class="parameter"><code>--with-system-libtiff</code></em>:
          Remove this option if you've not installed <a class="xref" href=
          "../general/libtiff.html" title="LibTIFF-4.0.3">LibTIFF-4.0.3</a>.
        </p>
        <p>
          <span class="command"><strong>install -v -m644
          base/*.h...</strong></span>: Some packages (<span class=
          "application">ImageMagick</span> is one) need the <span class=
          "application">Ghostscript</span> interface headers in place to link
          to the shared library. These commands install the headers.
        </p>
        <p>
          <span class="command"><strong>ln -v -s ghostscript
          /usr/include/ps</strong></span>: Some packages expect to find the
          interface headers in an alternate location.
        </p>
        <p>
          <span class="command"><strong>ln -sfv ../ghostscript-9.10/doc
          ...</strong></span>: This puts a symbolic link to the documentation
          where it is expected to be found.
        </p>
        <p>
          <code class="option">--disable-cups</code>: this option will save a
          tiny amount of space by not linking <span class=
          "command"><strong>gs</strong></span> and <code class=
          "filename">libgs.so</code> to the <a class="xref" href="cups.html"
          title="Cups-1.6.3">Cups-1.6.3</a> libraries if you have installed
          those.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">bdftops, dvipdf, eps2eps, fixmswrd.pl,
              font2c, gs, gsbj, gsc (from soinstall), gsdj, gsdj500, gslj,
              gslp, gsnd, gsx (from soinstall), lprsetup.sh, pdf2dsc, pdf2ps,
              pf2afm, pfbtopfa, printafm, ps2ascii, ps2epsi, ps2pdf,
              ps2pdf12, ps2pdf13, ps2pdf14, ps2pdfwr, ps2ps, ps2ps2, pv.sh,
              unix-lpr.sh, and wftopfa</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Library:</strong>
              <span class="segbody">libgs.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/include/ghostscript,
              /usr/lib/ghostscript, /usr/share/ghostscript, and
              /usr/share/doc/ghostscript-9.10</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="gplgs-prog" name="gplgs-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>gs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is an interpreter for Adobe Systems' PostScript(tm) and
                    Portable Document Format (PDF).
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libgs.so" name="libgs.so"></a><span class=
                    "term"><code class="filename">libgs.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    provides <span class="application">Ghostscript</span>
                    functionality to other programs, such as <span class=
                    "application">GSView</span>, <span class=
                    "application">ImageMagick</span>, and <span class=
                    "application">libspectre</span>.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <p>
          <span class="application">GPL Ghostscript</span> provides many
          different scripts used to convert PostScript, PDF, and other
          formats. Please refer to the HTML documentation or the man pages
          for information about the capabilities provided.
        </p>
      </div>
      <p class="updated">
        Last updated on 2013-09-12 06:57:32 -0700
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="cups-filters.html" title=
          "cups-filters-1.0.38">Prev</a>
          <p>
            cups-filters-1.0.38
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gutenprint.html" title=
          "Gutenprint-5.2.9">Next</a>
          <p>
            Gutenprint-5.2.9
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="printing.html" title=
          "Chapter&nbsp;41.&nbsp;Printing">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.4">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
